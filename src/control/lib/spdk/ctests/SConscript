"""Build go-spdk bindings C tests"""
import daos_build

def scons():
    """Execute build"""
    Import('senv', 'prereqs')

    unit_env = senv.Clone()

    prereqs.require(unit_env, 'pmdk', 'spdk', 'hwloc', 'cmocka')

    daos_build.test(unit_env, 'nvme_control_tests',
                    ['nvme_control_ut.c', senv.ncc, senv.nc],
                    LIBS=['spdk', 'spdk_env_dpdk', 'numa', 'cmocka', 'pthread',
                          'dl'])

if __name__ == "SCons.Script":
    scons()
